import SlideContent from"./controllers/slidecontent.js";import SlideNumber from"./controllers/slidenumber.js";import Backgrounds from"./controllers/backgrounds.js";import AutoAnimate from"./controllers/autoanimate.js";import Fragments from"./controllers/fragments.js";import Overview from"./controllers/overview.js";import Keyboard from"./controllers/keyboard.js";import Location from"./controllers/location.js";import Controls from"./controllers/controls.js";import Progress from"./controllers/progress.js";import Pointer from"./controllers/pointer.js";import Plugins from"./controllers/plugins.js";import Print from"./controllers/print.js";import Touch from"./controllers/touch.js";import Focus from"./controllers/focus.js";import Notes from"./controllers/notes.js";import Playback from"./components/playback.js";import defaultConfig from"./config.js";import*as Util from"./utils/util.js";import*as Device from"./utils/device.js";import{SLIDES_SELECTOR,HORIZONTAL_SLIDES_SELECTOR,VERTICAL_SLIDES_SELECTOR,POST_MESSAGE_METHOD_BLACKLIST}from"./utils/constants.js";export const VERSION="4.1.3";export default function(e,t){arguments.length<2&&(t=arguments[0],e=document.querySelector(".reveal"));const i={};let n,r,a,o,s,l={},d=!1,u={hasNavigatedHorizontally:!1,hasNavigatedVertically:!1},c=[],p=1,g={layout:"",overview:""},f={},v=!1,h="idle",m=0,y=0,b=-1,w=!1,S=new SlideContent(i),L=new SlideNumber(i),E=new AutoAnimate(i),A=new Backgrounds(i),x=new Fragments(i),N=new Overview(i),T=new Keyboard(i),P=new Location(i),C=new Controls(i),O=new Progress(i),R=new Pointer(i),k=new Plugins(i),q=new Print(i),I=new Focus(i),M=new Touch(i),U=new Notes(i);function D(n){return f.wrapper=e,f.slides=e.querySelector(".slides"),l={...defaultConfig,...l,...t,...n,...Util.getQueryHash()},H(),window.addEventListener("load",se,!1),k.load(l.plugins,l.dependencies).then(_),new Promise((e=>i.on("ready",e)))}function H(){!0===l.embedded?f.viewport=Util.closest(e,".reveal-viewport")||e:(f.viewport=document.body,document.documentElement.classList.add("reveal-full-page")),f.viewport.classList.add("reveal-viewport")}function _(){d=!0,j(),z(),W(),K(),xe(),Z(),P.readURL(),A.update(!0),setTimeout((()=>{f.slides.classList.remove("no-transition"),f.wrapper.classList.add("ready"),Y({type:"ready",data:{indexh:n,indexv:r,currentSlide:o}})}),1),q.isPrintingPDF()&&(Q(),"complete"===document.readyState?q.setupPDF():window.addEventListener("load",(()=>{q.setupPDF()})))}function j(){l.showHiddenSlides||Util.queryAll(f.wrapper,'section[data-visibility="hidden"]').forEach((e=>{e.parentNode.removeChild(e)}))}function z(){f.slides.classList.add("no-transition"),Device.isMobile?f.wrapper.classList.add("no-hover"):f.wrapper.classList.remove("no-hover"),A.render(),L.render(),C.render(),O.render(),U.render(),f.pauseOverlay=Util.createSingletonNode(f.wrapper,"div","pause-overlay",l.controls?'<button class="resume-button">Resume presentation</button>':null),f.statusElement=F(),f.wrapper.setAttribute("role","application")}function F(){let e=f.wrapper.querySelector(".aria-status");return e||(e=document.createElement("div"),e.style.position="absolute",e.style.height="1px",e.style.width="1px",e.style.overflow="hidden",e.style.clip="rect( 1px, 1px, 1px, 1px )",e.classList.add("aria-status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),f.wrapper.appendChild(e)),e}function V(e){f.statusElement.textContent=e}function B(e){let t="";if(3===e.nodeType)t+=e.textContent;else if(1===e.nodeType){let i=e.getAttribute("aria-hidden"),n="none"===window.getComputedStyle(e).display;"true"===i||n||Array.from(e.childNodes).forEach((e=>{t+=B(e)}))}return t=t.trim(),""===t?"":t+" "}function K(){setInterval((()=>{0===f.wrapper.scrollTop&&0===f.wrapper.scrollLeft||(f.wrapper.scrollTop=0,f.wrapper.scrollLeft=0)}),1e3)}function W(){l.postMessage&&window.addEventListener("message",(e=>{let t=e.data;if("string"==typeof t&&"{"===t.charAt(0)&&"}"===t.charAt(t.length-1)&&(t=JSON.parse(t),t.method&&"function"==typeof i[t.method]))if(!1===POST_MESSAGE_METHOD_BLACKLIST.test(t.method)){const e=i[t.method].apply(i,t.args);ee("callback",{method:t.method,result:e})}else console.warn('reveal.js: "'+t.method+'" is is blacklisted from the postMessage API')}),!1)}function Z(e){const t={...l};if("object"==typeof e&&Util.extend(l,e),!1===i.isReady())return;const n=f.wrapper.querySelectorAll(SLIDES_SELECTOR).length;f.wrapper.classList.remove(t.transition),f.wrapper.classList.add(l.transition),f.wrapper.setAttribute("data-transition-speed",l.transitionSpeed),f.wrapper.setAttribute("data-background-transition",l.backgroundTransition),f.viewport.style.setProperty("--slide-width",l.width+"px"),f.viewport.style.setProperty("--slide-height",l.height+"px"),l.shuffle&&Ne(),Util.toggleClass(f.wrapper,"embedded",l.embedded),Util.toggleClass(f.wrapper,"rtl",l.rtl),Util.toggleClass(f.wrapper,"center",l.center),!1===l.pause&&me(),l.previewLinks?(te(),ie("[data-preview-link=false]")):(ie(),te("[data-preview-link]:not([data-preview-link=false])")),E.reset(),s&&(s.destroy(),s=null),n>1&&l.autoSlide&&l.autoSlideStoppable&&(s=new Playback(f.wrapper,(()=>Math.min(Math.max((Date.now()-b)/m,0),1))),s.on("click",ot),w=!1),"default"!==l.navigationMode?f.wrapper.setAttribute("data-navigation-mode",l.navigationMode):f.wrapper.removeAttribute("data-navigation-mode"),U.configure(l,t),I.configure(l,t),R.configure(l,t),C.configure(l,t),O.configure(l,t),T.configure(l,t),x.configure(l,t),L.configure(l,t),Ee()}function $(){v=!0,window.addEventListener("resize",nt,!1),l.touch&&M.bind(),l.keyboard&&T.bind(),l.progress&&O.bind(),l.respondToHashChanges&&P.bind(),C.bind(),I.bind(),f.slides.addEventListener("transitionend",it,!1),f.pauseOverlay.addEventListener("click",me,!1),l.focusBodyOnPageVisibilityChange&&document.addEventListener("visibilitychange",rt,!1)}function Q(){v=!1,M.unbind(),I.unbind(),T.unbind(),C.unbind(),O.unbind(),P.unbind(),window.removeEventListener("resize",nt,!1),f.slides.removeEventListener("transitionend",it,!1),f.pauseOverlay.removeEventListener("click",me,!1)}function G(t,i,n){e.addEventListener(t,i,n)}function J(t,i,n){e.removeEventListener(t,i,n)}function X(e){"string"==typeof e.layout&&(g.layout=e.layout),"string"==typeof e.overview&&(g.overview=e.overview),g.layout?Util.transformElement(f.slides,g.layout+" "+g.overview):Util.transformElement(f.slides,g.overview)}function Y({target:e=f.wrapper,type:t,data:i,bubbles:n=!0}){let r=document.createEvent("HTMLEvents",1,2);r.initEvent(t,n,!0),Util.extend(r,i),e.dispatchEvent(r),e===f.wrapper&&ee(t)}function ee(e,t){if(l.postMessageEvents&&window.parent!==window.self){let i={namespace:"reveal",eventName:e,state:Ve()};Util.extend(i,t),window.parent.postMessage(JSON.stringify(i),"*")}}function te(e="a"){Array.from(f.wrapper.querySelectorAll(e)).forEach((e=>{/^(http|www)/gi.test(e.getAttribute("href"))&&e.addEventListener("click",at,!1)}))}function ie(e="a"){Array.from(f.wrapper.querySelectorAll(e)).forEach((e=>{/^(http|www)/gi.test(e.getAttribute("href"))&&e.removeEventListener("click",at,!1)}))}function ne(e){oe(),f.overlay=document.createElement("div"),f.overlay.classList.add("overlay"),f.overlay.classList.add("overlay-preview"),f.wrapper.appendChild(f.overlay),f.overlay.innerHTML=`<header>\n\t\t\t\t<a class="close" href="#"><span class="icon"></span></a>\n\t\t\t\t<a class="external" href="${e}" target="_blank"><span class="icon"></span></a>\n\t\t\t</header>\n\t\t\t<div class="spinner"></div>\n\t\t\t<div class="viewport">\n\t\t\t\t<iframe src="${e}"></iframe>\n\t\t\t\t<small class="viewport-inner">\n\t\t\t\t\t<span class="x-frame-error">Unable to load iframe. This is likely due to the site's policy (x-frame-options).</span>\n\t\t\t\t</small>\n\t\t\t</div>`,f.overlay.querySelector("iframe").addEventListener("load",(e=>{f.overlay.classList.add("loaded")}),!1),f.overlay.querySelector(".close").addEventListener("click",(e=>{oe(),e.preventDefault()}),!1),f.overlay.querySelector(".external").addEventListener("click",(e=>{oe()}),!1)}function re(e){"boolean"==typeof e?e?ae():oe():f.overlay?oe():ae()}function ae(){if(l.help){oe(),f.overlay=document.createElement("div"),f.overlay.classList.add("overlay"),f.overlay.classList.add("overlay-help"),f.wrapper.appendChild(f.overlay);let e='<p class="title">Keyboard Shortcuts</p><br/>',t=T.getShortcuts(),i=T.getBindings();e+="<table><th>KEY</th><th>ACTION</th>";for(let i in t)e+=`<tr><td>${i}</td><td>${t[i]}</td></tr>`;for(let t in i)i[t].key&&i[t].description&&(e+=`<tr><td>${i[t].key}</td><td>${i[t].description}</td></tr>`);e+="</table>",f.overlay.innerHTML=`\n\t\t\t\t<header>\n\t\t\t\t\t<a class="close" href="#"><span class="icon"></span></a>\n\t\t\t\t</header>\n\t\t\t\t<div class="viewport">\n\t\t\t\t\t<div class="viewport-inner">${e}</div>\n\t\t\t\t</div>\n\t\t\t`,f.overlay.querySelector(".close").addEventListener("click",(e=>{oe(),e.preventDefault()}),!1)}}function oe(){return!!f.overlay&&(f.overlay.parentNode.removeChild(f.overlay),f.overlay=null,!0)}function se(){if(f.wrapper&&!q.isPrintingPDF()){if(!l.disableLayout){Device.isMobile&&!l.embedded&&document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px");const e=de(),t=p;le(l.width,l.height),f.slides.style.width=e.width+"px",f.slides.style.height=e.height+"px",p=Math.min(e.presentationWidth/e.width,e.presentationHeight/e.height),p=Math.max(p,l.minScale),p=Math.min(p,l.maxScale),1===p?(f.slides.style.zoom="",f.slides.style.left="",f.slides.style.top="",f.slides.style.bottom="",f.slides.style.right="",X({layout:""})):p>1&&Device.supportsZoom&&window.devicePixelRatio<2?(f.slides.style.zoom=p,f.slides.style.left="",f.slides.style.top="",f.slides.style.bottom="",f.slides.style.right="",X({layout:""})):(f.slides.style.zoom="",f.slides.style.left="50%",f.slides.style.top="50%",f.slides.style.bottom="auto",f.slides.style.right="auto",X({layout:"translate(-50%, -50%) scale("+p+")"}));const i=Array.from(f.wrapper.querySelectorAll(SLIDES_SELECTOR));for(let t=0,n=i.length;t<n;t++){const n=i[t];"none"!==n.style.display&&(l.center||n.classList.contains("center")?n.classList.contains("stack")?n.style.top=0:n.style.top=Math.max((e.height-n.scrollHeight)/2,0)+"px":n.style.top="")}t!==p&&Y({type:"resize",data:{oldScale:t,scale:p,size:e}})}O.update(),A.updateParallax(),N.isActive()&&N.update()}}function le(e,t){Util.queryAll(f.slides,"section > .stretch, section > .r-stretch").forEach((i=>{let n=Util.getRemainingHeight(i,t);if(/(img|video)/gi.test(i.nodeName)){const t=i.naturalWidth||i.videoWidth,r=i.naturalHeight||i.videoHeight,a=Math.min(e/t,n/r);i.style.width=t*a+"px",i.style.height=r*a+"px"}else i.style.width=e+"px",i.style.height=n+"px"}))}function de(e,t){const i={width:l.width,height:l.height,presentationWidth:e||f.wrapper.offsetWidth,presentationHeight:t||f.wrapper.offsetHeight};return i.presentationWidth-=i.presentationWidth*l.margin,i.presentationHeight-=i.presentationHeight*l.margin,"string"==typeof i.width&&/%$/.test(i.width)&&(i.width=parseInt(i.width,10)/100*i.presentationWidth),"string"==typeof i.height&&/%$/.test(i.height)&&(i.height=parseInt(i.height,10)/100*i.presentationHeight),i}function ue(e,t){"object"==typeof e&&"function"==typeof e.setAttribute&&e.setAttribute("data-previous-indexv",t||0)}function ce(e){if("object"==typeof e&&"function"==typeof e.setAttribute&&e.classList.contains("stack")){const t=e.hasAttribute("data-start-indexv")?"data-start-indexv":"data-previous-indexv";return parseInt(e.getAttribute(t)||0,10)}return 0}function pe(e=o){return e&&e.parentNode&&!!e.parentNode.nodeName.match(/section/i)}function ge(){return!(!o||!pe(o))&&!o.nextElementSibling}function fe(){return 0===n&&0===r}function ve(){return!!o&&(!o.nextElementSibling&&(!pe(o)||!o.parentNode.nextElementSibling))}function he(){if(l.pause){const e=f.wrapper.classList.contains("paused");We(),f.wrapper.classList.add("paused"),!1===e&&Y({type:"paused"})}}function me(){const e=f.wrapper.classList.contains("paused");f.wrapper.classList.remove("paused"),Ke(),e&&Y({type:"resumed"})}function ye(e){"boolean"==typeof e?e?he():me():be()?me():he()}function be(){return f.wrapper.classList.contains("paused")}function we(e){"boolean"==typeof e?e?$e():Ze():w?$e():Ze()}function Se(){return!(!m||w)}function Le(e,t,i,s){a=o;const d=f.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR);if(0===d.length)return;void 0!==t||N.isActive()||(t=ce(d[e])),a&&a.parentNode&&a.parentNode.classList.contains("stack")&&ue(a.parentNode,r);const u=c.concat();c.length=0;let p=n||0,g=r||0;n=Te(HORIZONTAL_SLIDES_SELECTOR,void 0===e?n:e),r=Te(VERTICAL_SLIDES_SELECTOR,void 0===t?r:t);let v=n!==p||r!==g;v||(a=null);let m=d[n],y=m.querySelectorAll("section");o=y[r]||m;let b=!1;v&&a&&o&&!N.isActive()&&(a.hasAttribute("data-auto-animate")&&o.hasAttribute("data-auto-animate")&&a.getAttribute("data-auto-animate-id")===o.getAttribute("data-auto-animate-id")&&!(n>p||r>g?o:a).hasAttribute("data-auto-animate-restart")&&(b=!0,f.slides.classList.add("disable-slide-transitions")),h="running"),Pe(),se(),N.isActive()&&N.update(),void 0!==i&&x.goto(i),a&&a!==o&&(a.classList.remove("present"),a.setAttribute("aria-hidden","true"),fe()&&setTimeout((()=>{Ue().forEach((e=>{ue(e,0)}))}),0));e:for(let e=0,t=c.length;e<t;e++){for(let t=0;t<u.length;t++)if(u[t]===c[e]){u.splice(t,1);continue e}f.viewport.classList.add(c[e]),Y({type:c[e]})}for(;u.length;)f.viewport.classList.remove(u.pop());v&&Y({type:"slidechanged",data:{indexh:n,indexv:r,previousSlide:a,currentSlide:o,origin:s}}),!v&&a||(S.stopEmbeddedContent(a),S.startEmbeddedContent(o)),requestAnimationFrame((()=>{V(B(o))})),O.update(),C.update(),U.update(),A.update(),A.updateParallax(),L.update(),x.update(),P.writeURL(),Ke(),b&&(setTimeout((()=>{f.slides.classList.remove("disable-slide-transitions")}),0),l.autoAnimate&&E.run(a,o))}function Ee(){Q(),$(),se(),m=l.autoSlide,Ke(),A.create(),P.writeURL(),x.sortAll(),C.update(),O.update(),Pe(),U.update(),U.updateVisibility(),A.update(!0),L.update(),S.formatEmbeddedContent(),!1===l.autoPlayMedia?S.stopEmbeddedContent(o,{unloadIframes:!1}):S.startEmbeddedContent(o),N.isActive()&&N.layout()}function Ae(e=o){A.sync(e),x.sync(e),S.load(e),A.update(),U.update()}function xe(){Ie().forEach((e=>{Util.queryAll(e,"section").forEach(((e,t)=>{t>0&&(e.classList.remove("present"),e.classList.remove("past"),e.classList.add("future"),e.setAttribute("aria-hidden","true"))}))}))}function Ne(e=Ie()){e.forEach(((t,i)=>{let n=e[Math.floor(Math.random()*e.length)];n.parentNode===t.parentNode&&t.parentNode.insertBefore(t,n);let r=t.querySelectorAll("section");r.length&&Ne(r)}))}function Te(e,t){let i=Util.queryAll(f.wrapper,e),n=i.length,r=q.isPrintingPDF();if(n){l.loop&&(t%=n)<0&&(t=n+t),t=Math.max(Math.min(t,n-1),0);for(let e=0;e<n;e++){let n=i[e],a=l.rtl&&!pe(n);n.classList.remove("past"),n.classList.remove("present"),n.classList.remove("future"),n.setAttribute("hidden",""),n.setAttribute("aria-hidden","true"),n.querySelector("section")&&n.classList.add("stack"),r?n.classList.add("present"):e<t?(n.classList.add(a?"future":"past"),l.fragments&&Util.queryAll(n,".fragment").forEach((e=>{e.classList.add("visible"),e.classList.remove("current-fragment")}))):e>t&&(n.classList.add(a?"past":"future"),l.fragments&&Util.queryAll(n,".fragment.visible").forEach((e=>{e.classList.remove("visible","current-fragment")})))}let e=i[t],a=e.classList.contains("present");e.classList.add("present"),e.removeAttribute("hidden"),e.removeAttribute("aria-hidden"),a||Y({target:e,type:"visible",bubbles:!1});let o=e.getAttribute("data-state");o&&(c=c.concat(o.split(" ")))}else t=0;return t}function Pe(){let e,t,i=Ie(),a=i.length;if(a&&void 0!==n){let o=N.isActive()?10:l.viewDistance;Device.isMobile&&(o=N.isActive()?6:l.mobileViewDistance),q.isPrintingPDF()&&(o=Number.MAX_VALUE);for(let s=0;s<a;s++){let d=i[s],u=Util.queryAll(d,"section"),c=u.length;if(e=Math.abs((n||0)-s)||0,l.loop&&(e=Math.abs(((n||0)-s)%(a-o))||0),e<o?S.load(d):S.unload(d),c){let i=ce(d);for(let a=0;a<c;a++){let l=u[a];t=s===(n||0)?Math.abs((r||0)-a):Math.abs(a-i),e+t<o?S.load(l):S.unload(l)}}}He()?f.wrapper.classList.add("has-vertical-slides"):f.wrapper.classList.remove("has-vertical-slides"),De()?f.wrapper.classList.add("has-horizontal-slides"):f.wrapper.classList.remove("has-horizontal-slides")}}function Ce({includeFragments:e=!1}={}){let t=f.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR),i=f.wrapper.querySelectorAll(VERTICAL_SLIDES_SELECTOR),a={left:n>0,right:n<t.length-1,up:r>0,down:r<i.length-1};if(l.loop&&(t.length>1&&(a.left=!0,a.right=!0),i.length>1&&(a.up=!0,a.down=!0)),t.length>1&&"linear"===l.navigationMode&&(a.right=a.right||a.down,a.left=a.left||a.up),!0===e){let e=x.availableRoutes();a.left=a.left||e.prev,a.up=a.up||e.prev,a.down=a.down||e.next,a.right=a.right||e.next}if(l.rtl){let e=a.left;a.left=a.right,a.right=e}return a}function Oe(e=o){let t=Ie(),i=0;e:for(let n=0;n<t.length;n++){let r=t[n],a=r.querySelectorAll("section");for(let t=0;t<a.length;t++){if(a[t]===e)break e;"uncounted"!==a[t].dataset.visibility&&i++}if(r===e)break;!1===r.classList.contains("stack")&&"uncounted"!==r.dataset.visibility&&i++}return i}function Re(){let e=je(),t=Oe();if(o){let e=o.querySelectorAll(".fragment");if(e.length>0){let i=.9;t+=o.querySelectorAll(".fragment.visible").length/e.length*i}}return Math.min(t/(e-1),1)}function ke(e){let t,i=n,a=r;if(e){let t=pe(e),n=t?e.parentNode:e,r=Ie();i=Math.max(r.indexOf(n),0),a=void 0,t&&(a=Math.max(Util.queryAll(e.parentNode,"section").indexOf(e),0))}if(!e&&o){if(o.querySelectorAll(".fragment").length>0){let e=o.querySelector(".current-fragment");t=e&&e.hasAttribute("data-fragment-index")?parseInt(e.getAttribute("data-fragment-index"),10):o.querySelectorAll(".fragment.visible").length-1}}return{h:i,v:a,f:t}}function qe(){return Util.queryAll(f.wrapper,SLIDES_SELECTOR+':not(.stack):not([data-visibility="uncounted"])')}function Ie(){return Util.queryAll(f.wrapper,HORIZONTAL_SLIDES_SELECTOR)}function Me(){return Util.queryAll(f.wrapper,".slides>section>section")}function Ue(){return Util.queryAll(f.wrapper,HORIZONTAL_SLIDES_SELECTOR+".stack")}function De(){return Ie().length>1}function He(){return Me().length>1}function _e(){return qe().map((e=>{let t={};for(let i=0;i<e.attributes.length;i++){let n=e.attributes[i];t[n.name]=n.value}return t}))}function je(){return qe().length}function ze(e,t){let i=Ie()[e],n=i&&i.querySelectorAll("section");return n&&n.length&&"number"==typeof t?n?n[t]:void 0:i}function Fe(e,t){let i="number"==typeof e?ze(e,t):e;if(i)return i.slideBackgroundElement}function Ve(){let e=ke();return{indexh:e.h,indexv:e.v,indexf:e.f,paused:be(),overview:N.isActive()}}function Be(e){if("object"==typeof e){Le(Util.deserialize(e.indexh),Util.deserialize(e.indexv),Util.deserialize(e.indexf));let t=Util.deserialize(e.paused),i=Util.deserialize(e.overview);"boolean"==typeof t&&t!==be()&&ye(t),"boolean"==typeof i&&i!==N.isActive()&&N.toggle(i)}}function Ke(){if(We(),o&&!1!==l.autoSlide){let e=o.querySelector(".current-fragment");e||(e=o.querySelector(".fragment"));let t=e?e.getAttribute("data-autoslide"):null,i=o.parentNode?o.parentNode.getAttribute("data-autoslide"):null,n=o.getAttribute("data-autoslide");t?m=parseInt(t,10):n?m=parseInt(n,10):i?m=parseInt(i,10):(m=l.autoSlide,0===o.querySelectorAll(".fragment").length&&Util.queryAll(o,"video, audio").forEach((e=>{e.hasAttribute("data-autoplay")&&m&&1e3*e.duration/e.playbackRate>m&&(m=1e3*e.duration/e.playbackRate+1e3)}))),!m||w||be()||N.isActive()||ve()&&!x.availableRoutes().next&&!0!==l.loop||(y=setTimeout((()=>{"function"==typeof l.autoSlideMethod?l.autoSlideMethod():et(),Ke()}),m),b=Date.now()),s&&s.setPlaying(-1!==y)}}function We(){clearTimeout(y),y=-1}function Ze(){m&&!w&&(w=!0,Y({type:"autoslidepaused"}),clearTimeout(y),s&&s.setPlaying(!1))}function $e(){m&&w&&(w=!1,Y({type:"autoslideresumed"}),Ke())}function Qe(){u.hasNavigatedHorizontally=!0,l.rtl?(N.isActive()||!1===x.next())&&Ce().left&&Le(n+1,"grid"===l.navigationMode?r:void 0):(N.isActive()||!1===x.prev())&&Ce().left&&Le(n-1,"grid"===l.navigationMode?r:void 0)}function Ge(){u.hasNavigatedHorizontally=!0,l.rtl?(N.isActive()||!1===x.prev())&&Ce().right&&Le(n-1,"grid"===l.navigationMode?r:void 0):(N.isActive()||!1===x.next())&&Ce().right&&Le(n+1,"grid"===l.navigationMode?r:void 0)}function Je(){(N.isActive()||!1===x.prev())&&Ce().up&&Le(n,r-1)}function Xe(){u.hasNavigatedVertically=!0,(N.isActive()||!1===x.next())&&Ce().down&&Le(n,r+1)}function Ye(){if(!1===x.prev())if(Ce().up)Je();else{let e;if(e=l.rtl?Util.queryAll(f.wrapper,HORIZONTAL_SLIDES_SELECTOR+".future").pop():Util.queryAll(f.wrapper,HORIZONTAL_SLIDES_SELECTOR+".past").pop(),e){let t=e.querySelectorAll("section").length-1||void 0;Le(n-1,t)}}}function et(){if(u.hasNavigatedHorizontally=!0,u.hasNavigatedVertically=!0,!1===x.next()){let e=Ce();e.down&&e.right&&l.loop&&ge()&&(e.down=!1),e.down?Xe():l.rtl?Qe():Ge()}}function tt(e){l.autoSlideStoppable&&Ze()}function it(e){"running"===h&&/section/gi.test(e.target.nodeName)&&(h="idle",Y({type:"slidetransitionend",data:{indexh:n,indexv:r,previousSlide:a,currentSlide:o}}))}function nt(e){se()}function rt(e){!1===document.hidden&&document.activeElement!==document.body&&("function"==typeof document.activeElement.blur&&document.activeElement.blur(),document.body.focus())}function at(e){if(e.currentTarget&&e.currentTarget.hasAttribute("href")){let t=e.currentTarget.getAttribute("href");t&&(ne(t),e.preventDefault())}}function ot(e){ve()&&!1===l.loop?(Le(0,0),$e()):w?$e():Ze()}const st={VERSION:"4.1.3",initialize:D,configure:Z,sync:Ee,syncSlide:Ae,syncFragments:x.sync.bind(x),slide:Le,left:Qe,right:Ge,up:Je,down:Xe,prev:Ye,next:et,navigateLeft:Qe,navigateRight:Ge,navigateUp:Je,navigateDown:Xe,navigatePrev:Ye,navigateNext:et,navigateFragment:x.goto.bind(x),prevFragment:x.prev.bind(x),nextFragment:x.next.bind(x),on:G,off:J,addEventListener:G,removeEventListener:J,layout:se,shuffle:Ne,availableRoutes:Ce,availableFragments:x.availableRoutes.bind(x),toggleHelp:re,toggleOverview:N.toggle.bind(N),togglePause:ye,toggleAutoSlide:we,isFirstSlide:fe,isLastSlide:ve,isLastVerticalSlide:ge,isVerticalSlide:pe,isPaused:be,isAutoSliding:Se,isSpeakerNotes:U.isSpeakerNotesWindow.bind(U),isOverview:N.isActive.bind(N),isFocused:I.isFocused.bind(I),isPrintingPDF:q.isPrintingPDF.bind(q),isReady:()=>d,loadSlide:S.load.bind(S),unloadSlide:S.unload.bind(S),showPreview:ne,hidePreview:oe,addEventListeners:$,removeEventListeners:Q,dispatchEvent:Y,getState:Ve,setState:Be,getProgress:Re,getIndices:ke,getSlidesAttributes:_e,getSlidePastCount:Oe,getTotalSlides:je,getSlide:ze,getPreviousSlide:()=>a,getCurrentSlide:()=>o,getSlideBackground:Fe,getSlideNotes:U.getSlideNotes.bind(U),getSlides:qe,getHorizontalSlides:Ie,getVerticalSlides:Me,hasHorizontalSlides:De,hasVerticalSlides:He,hasNavigatedHorizontally:()=>u.hasNavigatedHorizontally,hasNavigatedVertically:()=>u.hasNavigatedVertically,addKeyBinding:T.addKeyBinding.bind(T),removeKeyBinding:T.removeKeyBinding.bind(T),triggerKey:T.triggerKey.bind(T),registerKeyboardShortcut:T.registerKeyboardShortcut.bind(T),getComputedSlideSize:de,getScale:()=>p,getConfig:()=>l,getQueryHash:Util.getQueryHash,getRevealElement:()=>e,getSlidesElement:()=>f.slides,getViewportElement:()=>f.viewport,getBackgroundsElement:()=>A.element,registerPlugin:k.registerPlugin.bind(k),hasPlugin:k.hasPlugin.bind(k),getPlugin:k.getPlugin.bind(k),getPlugins:k.getRegisteredPlugins.bind(k)};return Util.extend(i,{...st,announceStatus:V,getStatusText:B,print:q,focus:I,progress:O,controls:C,location:P,overview:N,fragments:x,slideContent:S,slideNumber:L,onUserInput:tt,closeOverlay:oe,updateSlidesVisibility:Pe,layoutSlideContents:le,transformSlides:X,cueAutoSlide:Ke,cancelAutoSlide:We}),st}